\doxysection{keypad\+\_\+irq.\+h}
\hypertarget{keypad__irq_8h_source}{}\label{keypad__irq_8h_source}\index{C:/Users/johan/OneDrive -\/ Universidad de Antioquia/Semestre VII/Elec. Digital III/Laboratorio/Practica\_3/digital\_signal\_generator/irq\_c/keypad\_irq.h@{C:/Users/johan/OneDrive -\/ Universidad de Antioquia/Semestre VII/Elec. Digital III/Laboratorio/Practica\_3/digital\_signal\_generator/irq\_c/keypad\_irq.h}}
\mbox{\hyperlink{keypad__irq_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00011}00011\ \textcolor{preprocessor}{\#ifndef\ \_\_KEYPAD\_POLLING\_IRQ\_}}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00012}00012\ \textcolor{preprocessor}{\#define\ \_\_KEYPAD\_POLLING\_IRQ\_}}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00014}00014\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00015}00015\ \textcolor{preprocessor}{\#include\ "{}hardware/gpio.h"{}}}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00021}\mbox{\hyperlink{structkey__pad__t}{00021}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}\{}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00022}\mbox{\hyperlink{structkey__pad__t_1_1key}{00022}}\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structkey__pad__t_1_1key}{key}}\{}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00023}\mbox{\hyperlink{structkey__pad__t_1_1key_a052c6d6c4fd9b6fe5b2c4330b1376e57}{00023}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_a052c6d6c4fd9b6fe5b2c4330b1376e57}{cnt}}\ \ \ \ \ :\ 2;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00024}\mbox{\hyperlink{structkey__pad__t_1_1key_a3f47451edd2274525a52e40f4e26c399}{00024}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_a3f47451edd2274525a52e40f4e26c399}{seq}}\ \ \ \ \ :\ 4;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00025}\mbox{\hyperlink{structkey__pad__t_1_1key_aa0d215f84522c2ae302acbe1965c0a56}{00025}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_aa0d215f84522c2ae302acbe1965c0a56}{ckey}}\ \ \ \ :\ 8;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00026}\mbox{\hyperlink{structkey__pad__t_1_1key_a6495e9271bf46b51ad920851cbe348fa}{00026}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_a6495e9271bf46b51ad920851cbe348fa}{dkey}}\ \ \ \ :\ 5;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00027}\mbox{\hyperlink{structkey__pad__t_1_1key_af03d552610e66330f262014ab33405ce}{00027}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_af03d552610e66330f262014ab33405ce}{rlsb}}\ \ \ \ :\ 4;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00028}\mbox{\hyperlink{structkey__pad__t_1_1key_a4bd16d9dc8b55d04a11acb3afd8e1555}{00028}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_a4bd16d9dc8b55d04a11acb3afd8e1555}{clsb}}\ \ \ \ :\ 4;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00029}\mbox{\hyperlink{structkey__pad__t_1_1key_a61c22b7816e3e33167776091b58bbe43}{00029}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_a61c22b7816e3e33167776091b58bbe43}{en}}\ \ \ \ \ \ :\ 1;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00030}\mbox{\hyperlink{structkey__pad__t_1_1key_a9cb039d6835ff19e94b33797f32e5e38}{00030}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_a9cb039d6835ff19e94b33797f32e5e38}{dzero}}\ \ \ :\ 1;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00031}\mbox{\hyperlink{structkey__pad__t_1_1key_a2b8766d184b7e87a49d64a5893f6267d}{00031}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_a2b8766d184b7e87a49d64a5893f6267d}{nkey}}\ \ \ \ :\ 1;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00032}\mbox{\hyperlink{structkey__pad__t_1_1key_afca375850a2ea82cc362237ad4ddfc46}{00032}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_afca375850a2ea82cc362237ad4ddfc46}{dbnc}}\ \ \ \ :\ 1;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00033}\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{00033}}\ \ \ \ \ \}KEY;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00034}\mbox{\hyperlink{structkey__pad__t_a905807ff31e8cdf81b0a0d5f59ce6b67}{00034}}\ \ \ \ \ uint8\_t\ history[10];\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00035}00035\ \}\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}};}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00045}00045\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{keypad__irq_8h_ab1c4bfa3e440072a5d904bba6ef5a525}{kp\_init}}(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad,\ uint8\_t\ rlsb,\ uint8\_t\ clsb,\ \textcolor{keywordtype}{bool}\ en);}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00051}00051\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{keypad__irq_8h_a7af321d5637714ea2677e06a6c007d58}{kp\_decode}}(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad);}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00059}00059\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{keypad__irq_8h_aebcfe9f2a75b3d1d769bbf5b0a32662f}{kp\_capture}}(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad,\ uint32\_t\ cols);}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00066}00066\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ kp\_gen\_seq(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad)\{}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00067}00067\ \ \ \ \ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a052c6d6c4fd9b6fe5b2c4330b1376e57}{cnt}}\ +=\ 1;}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00068}00068\ \ \ \ \ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a3f47451edd2274525a52e40f4e26c399}{seq}}\ =\ 1\ <<\ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a052c6d6c4fd9b6fe5b2c4330b1376e57}{cnt}};}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00069}00069\ \ \ \ \ gpio\_put\_masked(0x0000000F<<kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_af03d552610e66330f262014ab33405ce}{rlsb}},((uint32\_t)kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a3f47451edd2274525a52e40f4e26c399}{seq}})<<kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_af03d552610e66330f262014ab33405ce}{rlsb}});}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00070}00070\ \}}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00071}00071\ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00078}00078\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ kp\_set\_irq\_enabled(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad,\ \textcolor{keywordtype}{bool}\ en)\{}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00079}00079\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 4;\ i++)\{}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00080}00080\ \ \ \ \ \ \ \ \ gpio\_set\_irq\_enabled(kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a4bd16d9dc8b55d04a11acb3afd8e1555}{clsb}}\ +\ i,\ GPIO\_IRQ\_EDGE\_RISE,\ en);}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00081}00081\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00082}00082\ \}}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00088}00088\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ uint8\_t\ kp\_get\_key(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad)\{}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00089}00089\ \ \ \ \ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a2b8766d184b7e87a49d64a5893f6267d}{nkey}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00090}00090\ \ \ \ \ \textcolor{keywordflow}{return}\ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a905807ff31e8cdf81b0a0d5f59ce6b67}{history}}[0];}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00091}00091\ \}}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00097}00097\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ uint8\_t\ kp\_get\_keyh(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad,\ uint8\_t\ n)\{}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00098}00098\ \ \ \ \ \textcolor{keywordflow}{return}\ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a905807ff31e8cdf81b0a0d5f59ce6b67}{history}}[n\%10];}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00099}00099\ \}}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00100}00100\ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00105}00105\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ uint8\_t\ kp\_get\_keyc(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad)\{}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00106}00106\ \ \ \ \ \textcolor{keywordflow}{return}\ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_aa0d215f84522c2ae302acbe1965c0a56}{ckey}};}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00107}00107\ \}}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00108}00108\ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00113}00113\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ kp\_set\_zflag(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad)\{}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00114}00114\ \ \ \ \ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a9cb039d6835ff19e94b33797f32e5e38}{dzero}}\ =\ 1;}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00115}00115\ \}}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00120}00120\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ kp\_clr\_zflag(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad)\{}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00121}00121\ \ \ \ \ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a9cb039d6835ff19e94b33797f32e5e38}{dzero}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00122}00122\ \}}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00128}00128\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ kp\_is\_2nd\_zero(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad)\{}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00129}00129\ \ \ \ \ \textcolor{keywordflow}{return}\ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a9cb039d6835ff19e94b33797f32e5e38}{dzero}};}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00130}00130\ \}}
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00131}00131\ }
\DoxyCodeLine{\Hypertarget{keypad__irq_8h_source_l00132}00132\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_\_KEYPAD\_POLLING\_IRQ\_}}

\end{DoxyCode}
