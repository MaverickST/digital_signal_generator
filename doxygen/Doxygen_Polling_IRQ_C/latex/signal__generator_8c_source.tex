\doxysection{signal\+\_\+generator.\+c}
\hypertarget{signal__generator_8c_source}{}\label{signal__generator_8c_source}\index{C:/Users/johan/OneDrive -\/ Universidad de Antioquia/Semestre VII/Elec. Digital III/Laboratorio/Practica\_3/digital\_signal\_generator/polling\_irq\_c/signal\_generator.c@{C:/Users/johan/OneDrive -\/ Universidad de Antioquia/Semestre VII/Elec. Digital III/Laboratorio/Practica\_3/digital\_signal\_generator/polling\_irq\_c/signal\_generator.c}}
\mbox{\hyperlink{signal__generator_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00011}00011\ \textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00012}00012\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00013}00013\ \textcolor{preprocessor}{\#include\ <stdbool.h>}}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00014}00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{signal__generator_8h}{signal\_generator.h}}"{}}}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00017}\mbox{\hyperlink{signal__generator_8c_ad055ea8f20af6eaafd70dafccff98f3a}{00017}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{signal__generator_8c_ad055ea8f20af6eaafd70dafccff98f3a}{signal\_gen\_init}}(\mbox{\hyperlink{structsignal__t}{signal\_t}}\ *signal,\ uint32\_t\ freq,\ uint16\_t\ amp,\ uint16\_t\ offset,\ \textcolor{keywordtype}{bool}\ en)}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00018}00018\ \{}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00019}00019\ \ \ \ \ signal-\/>\mbox{\hyperlink{structsignal__t_aacfad457f5366fa9265eb0a89e43f23b}{freq}}\ =\ freq;}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00020}00020\ \ \ \ \ signal-\/>\mbox{\hyperlink{structsignal__t_adb9fb614a1b429c765c22f4f2666efec}{amp}}\ =\ amp;}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00021}00021\ \ \ \ \ signal-\/>\mbox{\hyperlink{structsignal__t_ac681806181c80437cfab37335f62ff39}{offset}}\ =\ offset;}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00022}00022\ \ \ \ \ signal-\/>\mbox{\hyperlink{structsignal__t_a7375fa3485ce43bbc621f90ce895d52a}{value}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00023}00023\ \ \ \ \ signal-\/>\mbox{\hyperlink{structsignal__t_a3bf0a6f13b7ecc49bbb6f900a928f746}{STATE}}.\mbox{\hyperlink{structsignal__t_a61c22b7816e3e33167776091b58bbe43}{en}}\ =\ en;}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00024}00024\ \ \ \ \ signal-\/>\mbox{\hyperlink{structsignal__t_a3bf0a6f13b7ecc49bbb6f900a928f746}{STATE}}.\mbox{\hyperlink{structsignal__t_a91bb8482cb4115e0d789cdbb7f5a1d4e}{ss}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00025}00025\ \ \ \ \ signal-\/>\mbox{\hyperlink{structsignal__t_a052c6d6c4fd9b6fe5b2c4330b1376e57}{cnt}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00026}00026\ \ \ \ \ signal-\/>\mbox{\hyperlink{structsignal__t_a514bdda2449595a8a2b5ad3c218dcbeb}{t\_sample}}\ =\ \mbox{\hyperlink{signal__generator_8h_a8e69185d6cf84881ab5921becc3be249}{S\_TO\_US}}/(\mbox{\hyperlink{signal__generator_8h_afc597c76b4f04a2da506a240d51d89a0}{SAMPLE}}*freq);}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00027}00027\ \}}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00029}\mbox{\hyperlink{signal__generator_8c_a98cf69bd455f4cec4133bdd3957378ca}{00029}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{signal__generator_8c_a98cf69bd455f4cec4133bdd3957378ca}{signal\_calculate}}(\mbox{\hyperlink{structsignal__t}{signal\_t}}\ *signal)}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00030}00030\ \{}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00031}00031\ \ \ \ \ \textcolor{keywordflow}{if}(!signal-\/>\mbox{\hyperlink{structsignal__t_a3bf0a6f13b7ecc49bbb6f900a928f746}{STATE}}.\mbox{\hyperlink{structsignal__t_a61c22b7816e3e33167776091b58bbe43}{en}})\ \textcolor{keywordflow}{return};\ }
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00033}00033\ \ \ \ \ \textcolor{keywordflow}{switch}(signal-\/>\mbox{\hyperlink{structsignal__t_a3bf0a6f13b7ecc49bbb6f900a928f746}{STATE}}.\mbox{\hyperlink{structsignal__t_a91bb8482cb4115e0d789cdbb7f5a1d4e}{ss}})\{\ \textcolor{comment}{//\ Calculate\ next\ signal\ value}}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00034}00034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 0:\ \textcolor{comment}{//\ Sinusoidal}}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (uint8\_t\ i\ =\ 1;\ i\ <=\ \mbox{\hyperlink{signal__generator_8h_afc597c76b4f04a2da506a240d51d89a0}{SAMPLE}};\ i++)\{}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signal\_gen\_sin(signal,\ i);}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00037}00037\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signal-\/>\mbox{\hyperlink{structsignal__t_ab16c958f78330663941a8914a413592f}{arrayV}}[i\ -\/\ 1]\ =\ signal-\/>\mbox{\hyperlink{structsignal__t_a7375fa3485ce43bbc621f90ce895d52a}{value}};}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00040}00040\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 1:\ \textcolor{comment}{//\ Triangular}}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00041}00041\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (uint8\_t\ i\ =\ 1;\ i\ <=\ \mbox{\hyperlink{signal__generator_8h_afc597c76b4f04a2da506a240d51d89a0}{SAMPLE}};\ i++)\{}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signal\_gen\_tri(signal,\ i);}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signal-\/>\mbox{\hyperlink{structsignal__t_ab16c958f78330663941a8914a413592f}{arrayV}}[i\ -\/\ 1]\ =\ signal-\/>\mbox{\hyperlink{structsignal__t_a7375fa3485ce43bbc621f90ce895d52a}{value}};}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00045}00045\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00046}00046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 2:\ \textcolor{comment}{//\ Saw\ tooth}}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00047}00047\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (uint8\_t\ i\ =\ 1;\ i\ <=\ \mbox{\hyperlink{signal__generator_8h_afc597c76b4f04a2da506a240d51d89a0}{SAMPLE}};\ i++)\{}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00048}00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signal\_gen\_saw(signal,\ i);}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signal-\/>\mbox{\hyperlink{structsignal__t_ab16c958f78330663941a8914a413592f}{arrayV}}[i\ -\/\ 1]\ =\ signal-\/>\mbox{\hyperlink{structsignal__t_a7375fa3485ce43bbc621f90ce895d52a}{value}};}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00050}00050\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00051}00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00052}00052\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 3:\ \textcolor{comment}{//\ Square}}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00053}00053\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (uint8\_t\ i\ =\ 1;\ i\ <=\ \mbox{\hyperlink{signal__generator_8h_afc597c76b4f04a2da506a240d51d89a0}{SAMPLE}};\ i++)\{}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signal\_gen\_sqr(signal,\ i);}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signal-\/>\mbox{\hyperlink{structsignal__t_ab16c958f78330663941a8914a413592f}{arrayV}}[i\ -\/\ 1]\ =\ signal-\/>\mbox{\hyperlink{structsignal__t_a7375fa3485ce43bbc621f90ce895d52a}{value}};}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00058}00058\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{signal__generator_8c_source_l00059}00059\ \}}

\end{DoxyCode}
