\doxysection{keypad.\+h}
\hypertarget{keypad_8h_source}{}\label{keypad_8h_source}\index{C:/Users/johan/OneDrive -\/ Universidad de Antioquia/Semestre VII/Elec. Digital III/Laboratorio/Practica\_3/digital\_signal\_generator/polling\_irq\_c/keypad.h@{C:/Users/johan/OneDrive -\/ Universidad de Antioquia/Semestre VII/Elec. Digital III/Laboratorio/Practica\_3/digital\_signal\_generator/polling\_irq\_c/keypad.h}}
\mbox{\hyperlink{keypad_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00001}00001\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00002}00002\ \textcolor{preprocessor}{\#include\ "{}hardware/gpio.h"{}}}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00004}00004\ \textcolor{preprocessor}{\#ifndef\ \_\_KEYPAD\_IRQ\_POLLING\_}}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00005}00005\ \textcolor{preprocessor}{\#define\ \_\_KEYPAD\_IRQ\_POLLING\_}}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00010}\mbox{\hyperlink{structkey__pad__t}{00010}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct}\{}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00011}\mbox{\hyperlink{structkey__pad__t_1_1key}{00011}}\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structkey__pad__t_1_1key}{key}}\{}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00012}\mbox{\hyperlink{structkey__pad__t_1_1key_a052c6d6c4fd9b6fe5b2c4330b1376e57}{00012}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_a052c6d6c4fd9b6fe5b2c4330b1376e57}{cnt}}\ \ \ \ \ :\ 2;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00013}\mbox{\hyperlink{structkey__pad__t_1_1key_a3f47451edd2274525a52e40f4e26c399}{00013}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_a3f47451edd2274525a52e40f4e26c399}{seq}}\ \ \ \ \ :\ 4;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00014}\mbox{\hyperlink{structkey__pad__t_1_1key_aa0d215f84522c2ae302acbe1965c0a56}{00014}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_aa0d215f84522c2ae302acbe1965c0a56}{ckey}}\ \ \ \ :\ 8;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00015}\mbox{\hyperlink{structkey__pad__t_1_1key_a6495e9271bf46b51ad920851cbe348fa}{00015}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_a6495e9271bf46b51ad920851cbe348fa}{dkey}}\ \ \ \ :\ 5;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00016}\mbox{\hyperlink{structkey__pad__t_1_1key_af03d552610e66330f262014ab33405ce}{00016}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_af03d552610e66330f262014ab33405ce}{rlsb}}\ \ \ \ :\ 4;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00017}\mbox{\hyperlink{structkey__pad__t_1_1key_a4bd16d9dc8b55d04a11acb3afd8e1555}{00017}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_a4bd16d9dc8b55d04a11acb3afd8e1555}{clsb}}\ \ \ \ :\ 4;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00018}\mbox{\hyperlink{structkey__pad__t_1_1key_a61c22b7816e3e33167776091b58bbe43}{00018}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_a61c22b7816e3e33167776091b58bbe43}{en}}\ \ \ \ \ \ :\ 1;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00019}\mbox{\hyperlink{structkey__pad__t_1_1key_a9cb039d6835ff19e94b33797f32e5e38}{00019}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_a9cb039d6835ff19e94b33797f32e5e38}{dzero}}\ \ \ :\ 1;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00020}\mbox{\hyperlink{structkey__pad__t_1_1key_a2b8766d184b7e87a49d64a5893f6267d}{00020}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_a2b8766d184b7e87a49d64a5893f6267d}{nkey}}\ \ \ \ :\ 1;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00021}\mbox{\hyperlink{structkey__pad__t_1_1key_afca375850a2ea82cc362237ad4ddfc46}{00021}}\ \ \ \ \ uint8\_t\ \mbox{\hyperlink{structkey__pad__t_1_1key_afca375850a2ea82cc362237ad4ddfc46}{dbnc}}\ \ \ \ :\ 1;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00022}\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{00022}}\ \ \ \ \ \}KEY;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00023}\mbox{\hyperlink{structkey__pad__t_a905807ff31e8cdf81b0a0d5f59ce6b67}{00023}}\ \ \ \ \ uint8\_t\ history[10];\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00024}00024\ \}\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}};}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00034}00034\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{keypad_8h_ab1c4bfa3e440072a5d904bba6ef5a525}{kp\_init}}(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad,\ uint8\_t\ rlsb,\ uint8\_t\ clsb,\ \textcolor{keywordtype}{bool}\ en);}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00040}00040\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{keypad_8h_a7af321d5637714ea2677e06a6c007d58}{kp\_decode}}(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad);}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00048}00048\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{keypad_8h_aebcfe9f2a75b3d1d769bbf5b0a32662f}{kp\_capture}}(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad,\ uint32\_t\ cols);}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00055}00055\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ kp\_gen\_seq(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad)\{}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00056}00056\ \ \ \ \ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a052c6d6c4fd9b6fe5b2c4330b1376e57}{cnt}}\ +=\ 1;}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00057}00057\ \ \ \ \ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a3f47451edd2274525a52e40f4e26c399}{seq}}\ =\ 1\ <<\ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a052c6d6c4fd9b6fe5b2c4330b1376e57}{cnt}};}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00058}00058\ \ \ \ \ gpio\_put\_masked(0x0000000F<<kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_af03d552610e66330f262014ab33405ce}{rlsb}},((uint32\_t)kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a3f47451edd2274525a52e40f4e26c399}{seq}})<<kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_af03d552610e66330f262014ab33405ce}{rlsb}});}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00059}00059\ \}}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00067}00067\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ kp\_set\_irq\_enabled(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad,\ \textcolor{keywordtype}{bool}\ en)\{}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00068}00068\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 4;\ i++)\{}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00069}00069\ \ \ \ \ \ \ \ \ gpio\_set\_irq\_enabled(kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a4bd16d9dc8b55d04a11acb3afd8e1555}{clsb}}\ +\ i,\ GPIO\_IRQ\_EDGE\_RISE,\ en);}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00070}00070\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00071}00071\ \}}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00077}00077\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ uint8\_t\ kp\_get\_key(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad)\{}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00078}00078\ \ \ \ \ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a2b8766d184b7e87a49d64a5893f6267d}{nkey}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00079}00079\ \ \ \ \ \textcolor{keywordflow}{return}\ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a905807ff31e8cdf81b0a0d5f59ce6b67}{history}}[0];}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00080}00080\ \}}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00086}00086\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ uint8\_t\ kp\_get\_keyh(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad,\ uint8\_t\ n)\{}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00087}00087\ \ \ \ \ \textcolor{keywordflow}{return}\ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a905807ff31e8cdf81b0a0d5f59ce6b67}{history}}[n\%10];}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00088}00088\ \}}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00089}00089\ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00094}00094\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ uint8\_t\ kp\_get\_keyc(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad)\{}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00095}00095\ \ \ \ \ \textcolor{keywordflow}{return}\ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_aa0d215f84522c2ae302acbe1965c0a56}{ckey}};}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00096}00096\ \}}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00097}00097\ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00102}00102\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ kp\_set\_zflag(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad)\{}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00103}00103\ \ \ \ \ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a9cb039d6835ff19e94b33797f32e5e38}{dzero}}\ =\ 1;}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00104}00104\ \}}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00109}00109\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ kp\_clr\_zflag(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad)\{}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00110}00110\ \ \ \ \ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a9cb039d6835ff19e94b33797f32e5e38}{dzero}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00111}00111\ \}}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00112}00112\ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00117}00117\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ kp\_is\_2nd\_zero(\mbox{\hyperlink{structkey__pad__t}{key\_pad\_t}}\ *kpad)\{}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00118}00118\ \ \ \ \ \textcolor{keywordflow}{return}\ kpad-\/>\mbox{\hyperlink{structkey__pad__t_a77f98cb9e2fbbc939cdc6e1bbaf7564a}{KEY}}.\mbox{\hyperlink{structkey__pad__t_1_1key_a9cb039d6835ff19e94b33797f32e5e38}{dzero}};}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00119}00119\ \}}
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00120}00120\ }
\DoxyCodeLine{\Hypertarget{keypad_8h_source_l00121}00121\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ \_\_KEYPAD\_IRQ\_POLLING\_}}

\end{DoxyCode}
